services:
  bestor_content_helper.node_content_analyzer:
    class: Drupal\bestor_content_helper\Service\NodeContentAnalyzer
  bestor_content_helper.current_page_analyzer:
    class: Drupal\bestor_content_helper\Service\CurrentPageAnalyzer
    arguments:
      - '@current_route_match'
      - '@bestor_content_helper.node_content_analyzer'
  bestor_content_helper.standard_node_field_processor:
    class: Drupal\bestor_content_helper\Service\StandardNodeFieldProcessor
    arguments:
      - '@entity_type.manager'
      - '@language_manager'
      - '@renderer'
      - '@date.formatter'
      - '@bestor_content_helper.facet_results_provider'
      - '@bestor_content_helper.current_page_analyzer'    
  bestor_content_helper.node_language_analyzer:
    class: Drupal\bestor_content_helper\Service\NodeLanguageAnalyzer
    arguments:
      - '@bestor_content_helper.node_content_analyzer'
  bestor_content_helper.site_setting_manager:
    class: Drupal\bestor_content_helper\Service\SiteSettingManager
    arguments:
      - '@entity_type.manager'
      - '@language_manager'
  bestor_content_helper.url_provider:
    class: Drupal\bestor_content_helper\Service\UrlProvider
    arguments:
      - '@language_manager'
  bestor_content_helper.facet_results_provider:
    class: Drupal\bestor_content_helper\Service\FacetResultsProvider
    arguments:
      - '@bestor_content_helper.url_provider'
  bestor_content_helper.twig_extension:
    class: Drupal\bestor_content_helper\TwigExtension\CustomTranslationExtension
    arguments:
      - '@language_manager'
      - '@bestor_content_helper.site_setting_manager'
      - '@bestor_content_helper.facet_results_provider' 
      - '@bestor_content_helper.current_page_analyzer'   
      - '@bestor_content_helper.node_content_analyzer'
      - '@bestor_content_helper.standard_node_field_processor'  
      - '@bestor_content_helper.media_processor'    
      - '@bestor_content_helper.url_provider'    
    tags:
      - { name: twig.extension }
  bestor_content_helper.media_processor:
    class: Drupal\bestor_content_helper\Service\MediaProcessor
    arguments:
      - '@entity_type.manager'
      - '@file_url_generator'